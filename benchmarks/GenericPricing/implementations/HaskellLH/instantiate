#!/bin/sh

set -e # Die on error.

impl_dir=$FINPAR_IMPLEMENTATION
input=$FINPAR_INPUT

cp $impl_dir/*hs .
cp $impl_dir/run .

$FINPAR_LIB_DIR/linearise_data.py $FINPAR_INPUT contract_number monte_carlo_iterations num_path_dates num_underlyings num_models num_bits dir_vs md_c md_vols md_drifts md_starts md_deterministic_values md_discounts bb_inds bb_data > input.data

ghc -Wall -O2 -msse2 -rtsopts GenPricing.hs -o GenPricing
